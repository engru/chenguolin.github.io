---
layout:  post  # 使用的布局（不需要改）
catalog: true  # 是否归档
author: 陈国林 # 作者
tags:          #标签
    - Git
---

# 一. Git init
1. 初始化本地仓库: `git init`
2. 克隆远程仓库: `git clone <url>`

# 二. Git config
1. 设置用户名: `git config user.name "玄苦"`  (可以添加 `--global` 选项设置全局生效)
2. 设置邮箱: `git config user.email "cgl1079743846@gmail.com"` (可以添加 `--global` 选项设置全局生效)
3. 列出配置: `git config -l`

# 三. Git ignore
1. 项目根目录创建`.gitignore`文件: touch .gitignore
2. 把要忽略文件或目录写入`.gitignore`文件，支持正则表达式

# 四. Git commit
1. `工作区`添加到`暂存区`
    * 添加所有文件: `git add .`
    * 添加指定文件: `git add *.log`
2. `暂存区`提交到`本地仓库`
    * 提交所有修改: `git commit -a -m "commit message"`
    * 提交某些文件: `git commit -m "commit message" *.log`
3. `本地仓库`推送到`远程仓库`
    * 推送到master分支: `git push origin master`
    * 推送到branch分支: `git push origin <branch_name>`

# 五. Git branch
1. 列出分支
    * 列出本地分支: `git branch`
    * 列出本地所有分支: `git branch -a`
    * 列出远程分支: `git branch -r`
2. 创建分支
    * 基于当前分支创建新分支: `git branch <branch_name>`
    * 基于当前分支创建新分支并检出分支: `git checkout -b <branch_name>`
    * 检出分支: `git checkout <branch_name>`
    * 推送分支到远程: `git push origin <branch_name>`  (自动在远程创建一个分支)
3. 分支合并
    * 合并并提交: `git merge <branch_name>`  (默认使用fast-forward方式)
    * 不使用fast-forward方式合并，保留分支的commit历史: `git merge --no-ff <branch_name>`
    * 使用squash方式合并，把多次分支commit历史压缩为一次: `git merge --squash <branch_name>`
4. 分支重命名
    * 不覆盖已存在的重名分支: `git branch -m <branch_name> <new_branch_name>`
    * 覆盖已存在的重名分支: `git branch -M <branch_name> <new_branch_name>`
5. 分支删除
    * 分支未合并删除失败: `git branch -d <branch_name>`
    * 强制删除本地分支: `git branch -D <branch_name>`
    * 删除远程分支: `git push -d origin <branch_name>`
    * 删除远程不存在的分支: `git remote prune origin`

# 六. Git tag
1. 列出标签: `git tag`
2. 检出标签: `git checkout <tag_name>`
3. 创建标签
    * 当前分支创建标签: `git tag <tag_name>`
    * 使用某个分支创建标签: `git tag <tag_name> <branch_name>`
    * 使用某次历史提交创建标签: `git tag <tag_name> <commit_hash>`
4. 使用标签创建分支
    * 基于某个标签创建新分支: `git branch <branch_name> <tag_name>`
    * 基于某个标签创建新分支并检出分支: `git checkout -b <branch_name> <tag_name>`
5. 删除标签: `git tag -d <tag_name>`
6. 推送标签到远程: `git push origin tag <tag_name>`

# 七. Git status
1. 查看当前工作区状态: `git status`
2. 查看历史记录
    * 查看提交日志: `git log`
    * 查看当前分支历史记录: `gitk`
    * 查看某分支历史记录: `gitk <branch_name>`
    * 查看所有分支历史记录: `gitk --all`
3. 查看每个分支最后的提交: `git branch -v`

# 八. Git revert
1. 撤销`工作区`修改
    * 撤销指定文件: `git checkout *.log`
    * 撤销所有文件: `git checkout .`
2. 撤销`暂存区`修改
    * 撤销指定文件: `git checkout head *.log`
    * 撤销所有文件: `git checkout head .`
3. 撤销`本地仓库`修改
    * 撤销最近一次提交，文件撤回`暂存区`: `git revert --no-commit head`  (注意如果是新增的文件会丢失)
    * 撤销最近一次提交，文件撤回`工作区`: `git reset HEAD~1`

# 九. Git remote
1. 从远程库拉取
    * 拉取不合并到当前本地分支: `git fetch origin <branch_name>`
    * 拉取并合并到当前本地分支: `git pull origin <branch_name>`
2. 推送到远程库: `git push origin <branch_name>`
3. 显示远程主机信息: `git remote show origin`
4. 删除远程分支信息: `git remote prune origin`
