---
layout:  post    # 使用的布局（不需要改）
catalog: true   # 是否归档
author: 陈国林 # 作者
tags:         #标签
    - Go
---

1. Go 版本历史
    + `go 1.0`: 2012/03/28 released
    + `go 1.1`: 2013/05/13 released
    + `go 1.2`: 2013/12/01 released
    + `go 1.3`: 2014/06/18 released
    + `go 1.4`: 2014/12/10 released
    + `go 1.5`: 2015/08/19 released   (自举)
    + `go 1.6`: 2016/02/17 released
    + `go 1.7`: 2016/08/15 released   (极速GC)
    + `go 1.8`: 2017/02/16 released
    + `go 1.9`: 2017/08/24 released
    + `go 1.10`: 2018/02/16 released  (自带工具全面升级)
    + `go 1.11`: 2018/08/24 released
    + `go 1.12`: 2019/02/25 released
2. Go 3个核心环境变量
    + `GOROOT`: Go 语言安装根目录的路径，也就是 GO 语言的安装路径（目前开发在用的是go 1.11.4版本）
    + `GOPATH`: 用户自定义的工作目录
    + `GOBIN`: GO 程序生成的可执行文件（executable file）存放目录
3. Go 25个关键字
    + var和const: 变量和常量申明
    + package和import: 包相关声明和导入
    + func: 用于定义函数和方法
    + return: 用于从函数返回
    + defer: 用于类似析构函数
    + go: 用于并发
    + select: 用于选择不同类型的通讯
    + interface: 用于定义接口
    + struct: 用于定义抽象数据类型
    + break、case、continue、for、fallthrough、else、if、switch、goto、default
    + chan: 用于channel通讯
    + type: 用于声明自定义类型
    + map: 用于声明map类型数据
    + range: 用于读取slice、map、channel数据
4. Go 语言string、byte、rune区别
    + string底层是用byte数组存储的，并且是不可改变的。例如s := "Go编程", len(s) = 8，因为Unicode中文字符占3个字节
    + len(string(rune("编"))) 结果是3，说明string中有Unicode中文字符用3byte存储
    + len([]rune("Go编程”)) 结果是4，rune可以切片，并不是按照Unicode 3个字节存储中文
5. Go 变量
    + `:=` 可以用来简短声明一个变量，只能在函数内部使用
    + 一般用 `var` 声明一个全局变量
    + `_` 下划线变量是一个特殊的变量，任何赋予它的值都会被丢弃
    + 声明一个常量 const name = value
6. Go 权限
    + 大写字母开头的变量是可导出的并且其它代码包可以读取这些变量，小写字母变量是私有变量并且其它代码包不可以读取这些变量
    + 大写字母开头的函数是公有函数其它代码包可以访问这些函数，小写字母开头的函数是私有函数其它代码包不可以访问这些函数
7. Go 默认
    + Go有两个保留函数`main`和`init`, Go程序会自动调用main和init函数，程序的起始和初始化都在main包
    + 代码包的名称一般会与源码文件所在的目录同名，如果不同名那么在构建、安装的过程中会与代码包名称为准
    + Go字符串默认都是采用`utf-8`编码，Go的字符串是不可改变的，如果要改变字符串可以通过转成byte数组实现
    + make用来对map，slice，channel内存分配, new用来对各种类型内存分配；make返回一个T类型，new返回一个*T指针
    + 数组长度是固定的，切片类型的值是可变长的
    + 某个类型需要`fmt`以特殊的格式输出，必须要实现Stringer这个接口，否则将以默认的方式输出
8. Go 数据类型
    + 引用类型: slice、map、channel、func
    + 值类型: 基础数据结构、struct
9. Go interface
    + interface{} 可以存储任何类型的数值，类似C语言的void* 指针
    + interface{} 做为函数参数的时候，函数可以接收任何类型的值。如果函数返interface{}，那也可以返回任何类型的值
    + value, ok = element.(T)，可以用来判断一个对象element是否是T类型。element是一个空interface对象，value是数值，ok是返回值。例如value，ok = e.(int)
10. Go goroutine
    + goroutine是并发的核心
    + goroutine实际上是协程，但是比线程更小，十几个goroutine差不多等于五六个线程
    + channel可以用goroutine之间通信，必须使用make创建channel。默认情况下 channel的接收和发送都是阻塞的，所以goroutine的同步比较简单，不需要显示的lock
    + 可以通过range不断读取channel的数据，直到有显式的close
11. Go channel
    + 
12. Go json
    + struct 转json
        + 只有大写字母的字段才能够被导出
	+ 字段的tag是"-"的是不会被输出到json中
        + tag中有自定义名称，则json中会以该名称做为key
	+ tag中如果有omitempty，则该字段为空值的时候不会输出到json
	+ tag名称必须要使用双引号引起了，例如`json:"name"`
    + json转struct
	+ 能够被赋值的字段必须是 大写字母开头的字段，否则无法赋值
        + json序列化的时候只会对能找到的字段进行赋值，找不到的字段不管（有个好处就是json里面有各种字段，但是我们只需要某几个字段的时候就只需要定义某几个字段的struct）
13. Go 底层数据存储结构  
   ![](https://github.com/chenguolin/chenguolin.github.io/blob/master/data/image/go-data-structure.png?raw=true)
14. Go 初始化过程  
   ![](https://github.com/chenguolin/chenguolin.github.io/blob/master/data/image/go-init-pipeline.png?raw=true)


